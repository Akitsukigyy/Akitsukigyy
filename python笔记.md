- ğŸ‘‹ Hi, Iâ€™m @Akitsukigyy
- ğŸ‘€ Iâ€™m interested in ...
- ğŸŒ± Iâ€™m currently learning ...
- ğŸ’ï¸ Iâ€™m looking to collaborate on ...
- ğŸ“« How to reach me ...

<!---
Akitsukigyy/Akitsukigyy is a âœ¨ special âœ¨ repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your changes.
--->


åˆ—è¡¨
mylist = [a,b,c,d]
#æ¸…é™¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ ï¼šmylist.clear()

#ä¿®æ”¹åˆ—è¡¨ä¸­ç‰¹å®šä¸‹æ ‡ç´¢å¼•çš„å€¼ï¼šmylist[0]= 0

#æŒ‡å®šä¸‹æ ‡ä¸­æ’å…¥æ–°å…ƒç´ ï¼šmylist.insert(1,"a") å…¶ä¸­1ä¸ºæ’å…¥ä½ç½®ï¼Œaä¸ºæ’å…¥å…ƒç´ 

#æ·»åŠ å…ƒç´ è‡³åˆ—è¡¨å°¾éƒ¨: mylist.append("b")

#æ·»åŠ ä¸€ä¸ªæ–°åˆ—è¡¨è‡³åŸåˆ—è¡¨å°¾éƒ¨ï¼š mylist2= [4,5,6,7],       mylist.extend(mylist2)

#delè¯­å¥åˆ é™¤åˆ—è¡¨ä¸­çš„ç‰¹å®šå…ƒç´ ï¼š del mylist[1]

#popè¯­å¥å¯å»é™¤å…ƒç´ ï¼š element = mylist.pop(2), mylistæœ€ç»ˆç»“æœï¼š[a,b,d], element:2

#åˆ é™¤æŸå…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼šmylist.remove(ä½ è¦çš„é¡¹)

#æ•°å…·ä½“å…ƒç´ ä¸ªæ•° mylist.count(ä½ è¦æ•°çš„å…ƒç´ )

#åˆ—è¡¨ä¸­çš„æ€»å…ƒç´ ä¸ªæ•°ï¼š len(mylist)

#æŸ¥æ‰¾åˆ—è¡¨å…ƒç´ çš„ä¸‹æ ‡ä½ç½®ï¼š mylist.index(),è‹¥ä¸å­˜åœ¨ä¼šæŠ¥é”™

#åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´  mylist[1], æœ€åä¸€ä¸ªå…ƒç´ : mylist[-1]

#åˆ—è¡¨çš„å¾ªç¯éå†ï¼š

#æ²¿ç”¨mylist

#index = 0, while index < len(mylist):

#element = mylist[index]

#print(f"åˆ—è¡¨å…ƒç´ {mylist}")

#index += 1

å…ƒç»„
#å…ƒç»„å†…çš„å†…å®¹æ— æ³•ä¿®æ”¹ï¼Œåˆ—è¡¨å†…çš„å†…å®¹å¯ä»¥ä¿®æ”¹

#å…ƒç»„å†…è‹¥åªæœ‰ä¸€ä¸ªæ•°æ®åˆ™éœ€è¦åŠ é€—å·ï¼Œå¦‚ tuple("hello",)

#å…ƒç»„å¯ä»¥åµŒå¥—ï¼Œå¦‚ tuple((1,2,3),(4,5,6))åˆ™å…ƒç»„å†…æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œ è‹¥æƒ³å–å‡ºå…ƒç»„å†…çš„å…ƒç´ â€œ6â€ï¼Œåˆ™ num= tuple[1][2]

#ç”±äºå…¶ä¸å¯ä¿®æ”¹çš„ç‰¹æ€§ï¼Œå…ƒç»„åªæœ‰index, count, lenç­‰å‡½æ•°èƒ½å¤Ÿä½¿ç”¨

#å…ƒç»„ä¸­åµŒå¥—listï¼Œåˆ™listå¯ä»¥ä¿®æ”¹

Stringå­—ç¬¦ä¸²

#å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨replaceå‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œ string.replace(old,new)ï¼Œæ›¿æ¢çš„é€»è¾‘ä¸ºä½¿ç”¨æ–°çš„

#splitå‡½æ•°å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œå¾—åˆ°æ•°ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å­˜å…¥åˆ—è¡¨ä¸­ï¼Œå­—ç¬¦ä¸²æœ¬èº«ä¸å˜ï¼Œå¾—åˆ°äº†ä¸€ä¸ªæ–°çš„åˆ—è¡¨å¯¹è±¡

#å­—ç¬¦ä¸²ä»¥spaceåˆ†å‰²ï¼Œå¦‚ "1 2 3",åˆ™åˆ‡å‰²æ—¶ä½¿ç”¨space,å¦‚ split(" ") è®°å¾—è¦åŠ åŒå¼•å·

#string.strip()å»é™¤å‰åç©ºæ ¼ï¼Œ string.strip("12")å»é™¤å‰å12ï¼ˆ1å’Œ2ï¼‰

å…ƒç»„ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡

#tuple = (1,2,3,4,5,6)ï¼Œ åˆ‡ç‰‡åŒ…å‰ä¸åŒ…å

#tuple[:] å¯¹å…ƒç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œä»å¤´åˆ‡åˆ°ä½ï¼Œæ‰€ä»¥ç›´æ¥ï¼š  ï¼›æ­¥é•¿ä¸º1ï¼Œæ‰€ä»¥çœç•¥. æ­¥é•¿ä¸º2æ—¶ï¼Œåˆ™ä¸º: tuple[::2]

#æŒ‰ç…§ä¸­æ‹¬å·é¡ºåºè¿›è¡Œåˆ‡ç‰‡ï¼Œtuple[1:2:2][1:2]

é›†åˆ

#é›†åˆå†…é‡å¤çš„å…ƒç´ è‡ªåŠ¨åˆå¹¶ï¼Œæ— åºï¼Œæ— æ³•ä»¥ä¸‹æ ‡å®šä½

#set.add()æ·»åŠ 

#set.pop()éšæœºå–å‡º

#set.clear()æ¸…ç©ºé›†åˆ

#set1={1,2,3}

#set2={3,4,5}

#set3=set1.difference(set2)

#set3={2,3} differenceå‡½æ•°æŒ‡å–å‡ºset1ä¸­åŒ…å«ä½†set2ä¸­ä¸åŒ…å«çš„ä¸œè¥¿

#set3=set1.union(set2)åˆä½“

#ç”±äºé›†åˆä¸æ”¯æŒä¸‹æ ‡ç´¢å¼•ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨whileå¾ªç¯ï¼Œä½†å¯ä»¥ä½¿ç”¨forå¾ªç¯

#å®¹å™¨æ’åºï¼Œ sorted(å®¹å™¨) sorted(å®¹å™¨ï¼Œreverse=true)

#å•å¼•å·æ¯”è¾ƒå­—ç¬¦asciiç å¤§å°ï¼Œä¾‹å¦‚ 'abc' > 'abd' ä¸º True


å‡½æ•°
#æƒ³è¿”å›å¤šä¸ªå€¼å¯ä»¥ç”¨å¤šä¸ªå˜é‡å»æ¥å—ï¼Œå¦‚ x,y,z = def abc() return 1,2,3

#ä½ç½®å‚æ•°ï¼šä¼ é€’å‚æ•°æ—¶çš„ä¸ªæ•°å’Œé¡ºåºå¿…é¡»ä¸€è‡´ï¼Œå¦‚ def function(1,2,3): print(f"{1}{2}{3},")

#å…³é”®å­—å‚æ•°ï¼š def function(name, age, gender), print(f'your name is{}, ')

#å‡½æ•°åµŒå¥—: def function(compute): result = compute(1,2) print(...)

#éœ€è¦å†å®šä¹‰computeï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ™®é€šå®šä¹‰ï¼Œä¸€ç§lambdaå®šä¹‰ã€‚æ™®é€šå®šä¹‰ï¼š def compute(a,b): return a+b ; lambdaå®šä¹‰(å…¶å®ä¸å«å®šä¹‰): ç›´æ¥è°ƒç”¨ function(lambda a,b:a+b)

#lambdaå‡½æ•°ä¸ºåŒ¿åå‡½æ•°ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡

æ–‡ä»¶

#f=open("æ–‡ä»¶å","r/a/w", encoding="UTF-8")

#content = f.read()  ; f.readlines("xè¡Œ") or f.readline() readlineè¡¨ç¤ºè¯»ä¸€è¡Œï¼Œreadlinesè¯»å…¨éƒ¨

#close() å¿…é¡»è¦close

#time.sleep(5000)

#with open("","","") as f: f readlines()   time.close()å¯ä»¥é˜²æ­¢å¿˜è®°close

# x=f.write() ä¼šå°†å†™å…¥å†…å®¹ä¿å­˜è‡³ç¼“å†²åŒº

#x f.flush() åˆ·æ–°ï¼Œæ­¤æ—¶æ‰å°†å†…å®¹å†™è¿›æ–‡æ¡£

#line.strip() stripå‡½æ•°å»é™¤è¡Œé¦–å°¾æŒ‡å®šå­—ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼æˆ–æ¢è¡Œç¬¦

æ•è·å¼‚å¸¸
#try:     except Exception as e: print()   print(e)  else:  finally


æ¨¡å—  åå¤è§‚çœ‹p95

ä¸¤ä¸ª.pyæ–‡ä»¶å¯ä»¥è°ƒç”¨äº’ç›¸çš„å‡½æ•°ï¼Œè¿™ç§è¡Œä¸ºå°±å«å¼•å…¥æ¨¡å—

main+tab è°ƒå‡ºif --name-- = '--main--' å¯ä»¥æµ‹è¯•å‡½æ•°,åœ¨å¦ä¸€ä¸ª.pyå¯¼å…¥æ—¶åˆ™åªæ˜¯å¯¼å…¥è€Œä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå‡½æ•°

all = [test.A] åˆ™import*æ—¶åªå¯¼å…¥test Aå‡½æ•°

pycharmä¸­ç”Ÿæˆpackageè‡ªå¸¦init.pyåŒ…ï¼Œæœ‰è¿™ç©æ„æ‰ç®—ä¸ªåŒ…ï¼Œå†åœ¨è¿™ä¸ªåŒ…ä¸Šæ–°å»ºpython file

import mypackage.module1åéœ€è¦å†™mypackage.module1.info()

ä½†å¦‚æœ from mypakage.module import info å°±åªè¦å†™ info()

å›¾è¡¨-æŠ˜çº¿å›¾

from pyecharts.charts import Line #å¯¼å…¥æŠ˜çº¿å›¾
from pyecharts.options import TitleOptsï¼ŒLegendOptsï¼ŒToolboxOpts,VisualMapOpts #å¯¼å…¥å›¾è¡¨é€‰é¡¹,å›¾ä¾‹ï¼Œå·¥å…·ç®±,è§†è§‰æ˜ å°„

line = Line()                                       #å­˜å…¥å˜é‡

line.add_xaxis(["China", "America", "Britain"])    #è®¾ç½®xè½´
line.add_yaxis("GDP",[30,40,50])                   #è®¾ç½®yè½´ï¼Œæ³¨æ„æœ‰æ ‡é¢˜GDP

line.set_global_opts(
    title_opts=TitleOpts(title="GDP show", pos_left="center",pos_bottom="1%")ï¼Œ
    legend_opt=LegendOpts(is show = True),
    toolbox_opts=ToolboxOpts(is_show=True)ï¼Œ
    visualmap_opts=VisualMapOpts(is_show=True)
    
)

#è®¾ç½®å›¾æ ‡æ ‡é¢˜ä¸ºgdp show, pos_leftè¡¨ç¤ºå·¦ç§»ï¼Œcenterè¡¨ç¤ºå±…ä¸­ï¼›pos_bottom=1%è¡¨ç¤ºç¦»å¼€åº•éƒ¨ç™¾åˆ†ä¹‹1



line.render()                                      #ç”Ÿæˆå›¾è¡¨

#æ›´å¤šé…ç½®é€‰é¡¹å‚è€ƒ pyecharts.orgä¸­çš„å…¨å±€é…ç½®é¡¹


æ•°æ®å¤„ç†å®ä¾‹ï¼š
import json
from pyecharts.charts import Line

f_us=open("D:\programming\pycharm\èµ„æ–™\èµ„æ–™\å¯è§†åŒ–æ¡ˆä¾‹æ•°æ®\æŠ˜çº¿å›¾æ•°æ®\ç¾å›½.txt","r",encoding="UTF-8")
us_data=f_us.read()
# å»é™¤å¼€å¤´ä¸è§„èŒƒå­—ç¬¦

us_data=us_data.replace("jsonp_1629344292311_69436(","")
# å»é™¤ç»“å°¾ä¸è§„èŒƒå­—ç¬¦
us_data=us_data[:-2]

us_dict=json.loads(us_data)

print(type(us_dict))
print(us_dict)
# è·å–trend key
trend_data=us_dict['data'][0]['trend']
# è·å–xè½´ï¼Œå–æ—¥æœŸæ•°æ®ï¼Œè‡³2020å¹´12æœˆ31æ—¥ï¼Œæ ¹æ®jsonç½‘é¡µæ˜¾ç¤ºdataä¸‹æ ‡ä¸º313çš„æ—¥æœŸä¸º12æœˆ31æ—¥ï¼Œåˆ‡ç‰‡æ—¶ä¸º314.å¤šæ•°æ®æ—¶ï¼Œxè½´å…¬ç”¨ï¼Œyè½´ä¸å…±ç”¨
us_x_data=trend_data['updateDate'][:314]
# è·å–yè½´
us_y_data=trend_data['list'][0]['data'][:314]


line=Line()

line.add_xaxis(us_x_data)

line.add_yaxis("ç¾å›½ç¡®è¯Šäººæ•°", us_y_data) #å§‹ç»ˆè®°å¾—yè½´è¦åŠ æ³¨é‡Š

#ç”Ÿæˆå›¾æ ‡ï¼Œè°ƒç”¨renderæ–¹æ³•
line.render()

f_us.close()

#is_piecewise=Trueï¼Œpieces=[{},{}] æ˜¯å¦åˆ†æ®µï¼Œå¼€å¯æ‰‹åŠ¨æ ¡å‡†ï¼ŒåŒ¹é…é¢œè‰²

åœ°å›¾å®ä¾‹
from pyecharts.charts import Map
from pyecharts.options import VisualMapOpts
map = Map()

data=[
    ("ä¸Šæµ·å¸‚",99),
    ("åŒ—äº¬å¸‚",199),
    ("æ¹–åŒ—çœ",299),
    ("é‡åº†å¸‚",399),
    ("å°æ¹¾çœ",499)
]

map.add("æµ‹è¯•åœ°å›¾",data,"china")

map.set_global_opts(
    visualmap_opts= VisualMapOpts(is_show=True,
                                  is_piecewise=True,
                                  pieces=[{"min":1,"max":9,"label":"1-9äºº", "color":"#CCFFFF"}])  #åŒ¹é…é¢œè‰²
)
map.render()

P106 å®ä¾‹ï¼Œåå¤è§‚çœ‹

å®ä¾‹å¤±è´¥:
import json
from pyecharts.charts import Map
from pyecharts.options import *

f = open("D:/programming/pycharm/èµ„æ–™/èµ„æ–™/å¯è§†åŒ–æ¡ˆä¾‹æ•°æ®/åœ°å›¾æ•°æ®/ç–«æƒ….txt","r",encoding="UTF-8")
data=f.read()
# è¯»å–åå…³é—­æ–‡ä»¶
f.close()
# å–å„ä¸ªçœä»½çš„æ•°æ®å¹¶è½¬æ¢æˆpythonå­—å…¸
data_dict=json.loads(data)
# ä»å­—å…¸ä¸­å–å‡ºçœä»½çš„æ•°æ®
province_data_list=data_dict["areaTree"][0]["children"]
data_list=[]
for province_data in province_data_list:
    province_name = province_data["name"]
    province_confirm = province_data["total"]["confirm"]
    data_list.append((province_name,province_confirm))


###############################
# ä»¥ä¸Šä¸ºæ•°æ®å¤„ç†ï¼Œæ¥ä¸‹æ¥ä¸ºåˆ¶å›¾
# åˆ›å»ºå¯¹è±¡
map = Map()
# æ·»åŠ æ•°æ®
map.add("å„çœç¡®è¯Šäººæ•°", data_list,"china")
# å¼€å§‹é…ç½®å…¨å±€å¹¶å®šåˆ¶åˆ†æ®µçš„è§†è§‰æ˜ å°„
map.set_global_opts(
    title_opts=TitleOpts(title="å…¨å›½ç–«æƒ…åœ°å›¾"),
    visualmap_opts = VisualMapOpts(
        is_show=True,           # æ˜¯å¦æ˜¾ç¤º? True
        is_piecewise= True,     # æ˜¯å¦åˆ†æ®µ? True
        pieces=[
            {"min":1, "max":99, "label": "1-99äºº","color": "#CCFFFF"},
            {"min":100, "max":999, "label": "100-909äºº","color": "#FFFF99"},
            {"min":1000, "max":4999, "label": "1000-4999äºº","color": "#FF9966"},
            {"min":10000, "max":99999, "label": "10000-99999äºº","color": "#FF6666"},
            {"min":100000,  "label": "100000äººä»¥ä¸Š","color": "#CC3333"}


        ]
    )
)

map.render("å…¨å›½ç–«æƒ…åœ°å›¾.html")

#æ— æ³•æ˜¾ç¤ºåˆ†æ®µï¼Œä¸çŸ¥ä¸ºä½•ï¼ŒåæœŸå›æ¥é‡åš


æŸ±çŠ¶å›¾åˆ™å¯¼å…¥ bar

bar=Bar()

bar.add_xaxis()

#è¿˜å¯ä»¥åŠ å…¥ bar.reversal_axis() åè½¬xyè½´ï¼Œæ­¤æ—¶éœ€è¦åœ¨yè½´ä¸ŠæŠŠæ•°æ®ä¹Ÿå¸¦è¿‡æ¥ï¼Œ label_opts=LabelOpts(position = "right")

æ·»åŠ æ—¶é—´çº¿éœ€è¦å¯¼å…¥Timeline
å®ä¾‹ï¼š
from pyecharts.charts import Bar, Timeline
from pyecharts.options import LabelOpts
from pyecharts.globals import ThemeType # ç»™æ—¶é—´å›¾è¡¨åŠ å…¥ä¸»é¢˜
# æ„å»ºbar1
bar1 = Bar()
bar1.add_xaxis(["ä¸­å›½","ç¾å›½","è‹±å›½"])
bar1.add_yaxis("GDP",[30,20,10],label_opts=LabelOpts("right"))
bar1.reversal_axis()

# æ„å»ºbar2
bar2 = Bar()
bar2.add_xaxis(["ä¸­å›½","ç¾å›½","è‹±å›½"])
bar2.add_yaxis("GDP",[40,25,15],label_opts=LabelOpts("right"))

bar2.reversal_axis()
# æ„å»ºbar3
bar3 = Bar()
bar3.add_xaxis(["ä¸­å›½","ç¾å›½","è‹±å›½"])
bar3.add_yaxis("GDP",[50,30,20],label_opts=LabelOpts("right"))

bar3.reversal_axis()

# æ„å»ºæ—¶é—´çº¿å¯¹è±¡
timeline=Timeline({"theme":ThemeType.DARK})  # æ„å»ºå¯¹è±¡å¹¶èµ‹äºˆä¸»é¢˜
# æ—¶é—´çº¿å†…æ·»åŠ æ—¶é—´çº¿å¯¹è±¡
timeline.add(bar1, "ç‚¹ä½1")
timeline.add(bar2, "ç‚¹ä½2")
timeline.add(bar3, "ç‚¹ä½3")



# è‡ªåŠ¨æ’­æ”¾è®¾ç½®
timeline.add_schema(
    play_interval= 1000,    # æ’­æ”¾é—´éš”1000æ¯«ç§’
    is_auto_play=True,      # è‡ªåŠ¨æ’­æ”¾
    is_loop_play=True,      # è‡ªåŠ¨å¾ªç¯
    is_timeline_show=True   # æ˜¾ç¤ºæ—¶é—´è½´


)
# ç»˜å›¾ç”¨æ—¶é—´çº¿å¯¹è±¡è€Œä¸æ˜¯barå¯¹è±¡
timeline.render("gdpæ—¶é—´çº¿.html")




ä¸‹é¢è¿›è¡ŒåŠ¨æ€å›¾çš„ç»˜åˆ¶ï¼Œç»˜åˆ¶å‰éœ€è¦åšä¸€äº›å‡†å¤‡ï¼Œå¦‚æ‹“å±•åˆ—è¡¨ sortï¼š

my_list = [["a",33],["b",55],["c",11]]

def choose_sort_key(element):
    return element[1]

my_list.sort(key=choose_sort_key,reverse=True) # æ³¨æ„ä¸èƒ½å¸¦æ‹¬å·

# é»˜è®¤æ’åºä»å°åˆ°å¤§ï¼ŒåŠ ä¸Šreverseå°±æ˜¯ä»å¤§åˆ°å°

print(my_list)

lambdaå‡½æ•°æ–¹æ³•:
my_list = [["a",33],["b",55],["c",11]]
my_list.sort(key=lambda element:element[1], reverse=True)
print()

P110 åå¤è§‚çœ‹

æ„å»ºå¯¹è±¡ï¼š

class student:
    name = None

    def say_hi(self):     # classä¸­çš„å‡½æ•°å°±æ˜¯æ–¹æ³•äº†ï¼Œå®šä¹‰æ–¹æ³•æ—¶ä¼šè‡ªåŠ¨åŠ self
        print(f"åå­—ä¸º{self.name}")    # è°ƒç”¨ç±»å†…éƒ¨çš„å‚æ•°æ—¶è¦åŠ self.

stu = student()
stu.name="Aki"
stu.say_hi()              # ä¸ç”¨åŠ self

#æƒ³è¦è®¿é—®æˆå‘˜å±æ€§ï¼Œå¿…é¡»è¦åŠ  self.xxx

class student:
    name = None

    def say_hi(self):
        print(f"åå­—ä¸º{self.name}")
    
    def say_hi2(self,msg):
        print(f"{self.name},{msg}")

stu = student()
stu.name="Aki"
stu.say_hi()
stu.say_hi2("nice!")

# å®šä¹‰sayhi2æ—¶ï¼Œæ³¨æ„æ‹¬å·å†…çš„å†…å®¹ï¼Œ def xxx(self,å˜é‡1ï¼Œå˜é‡2ï¼Œå˜é‡3)ï¼Œåˆ™è°ƒç”¨æ—¶ä¼šå‡ºç°ä¸åŒï¼Œå¦‚ stu.say_hi2("å˜é‡1"ï¼Œâ€œå˜é‡2â€)ï¼Œ selfè‡ªåŠ¨å¡«å……

import winsound    winsound.Beep("é¢‘ç‡","æŒç»­æ—¶é—´")å¯ä»¥è®©ç”µè„‘å‘å‡ºå°å£°éŸ³ï¼Œä¸å»ºè®®å°è¯•


def _init_(self,name,age,tel):
    self.name=
    self.age=
    self.tel=
    print("Student")

stu=student("name",31,"tel")

ä¾‹ï¼š

class Student:
    name = None     # å¯çœç•¥
    age = None      # å¯çœç•¥
    tel = None      # å¯çœç•¥

    def __init__(self,name,age,tel):
        self.name = name    # èµ‹å€¼+å®šä¹‰
        self.age = age
        self.tel = tel
        print("Studentç±»åˆ›å»ºå¯¹è±¡")

stu = Student("Aki",27,"18217523297")
print(stu.tel)
print(stu.age)
print(stu.name)


super()è¡¨ç¤ºè°ƒç”¨çˆ¶ç±»å¯¹è±¡,å¯ä»¥è°ƒç”¨å·²ç»è¢«å¤å†™çš„å¯¹è±¡
super().çˆ¶ç±»()

å˜é‡

å˜é‡æ³¨è§£ï¼š

Var_1: int = 15

my_list: list[int] = [1,2,3]   #æœ€ä½³è¡¨è¾¾æ–¹æ³•
my_dict: dict[str,int] = {"number": 11}

alt+enter å¯ä»¥æœç´¢å¯å¯¼åŒ…

def add(a:int,b:int):
    return x+y           # å¯ä»¥è®©pycharmäº†è§£ä½ æƒ³è¦åšä»€ä¹ˆ ä»è€Œ
    
def func(data:list) -> list:       ->listä¸ºå¯¹funcçš„æ³¨è§£

my_list:list[Union[str,int]] = [1,2,"abc"] # Union å¯ä»¥å¯¹å¤šç§æ•°æ®ç»“æ„è¿›è¡Œæ³¨è§£

P124å¤šçœ‹å‡ é

P124 å…·ä½“æ¡ˆä¾‹æŸ¥çœ‹.py


conf = SparkConf().setMaster("local[*]").setAppName("test_spark_app")

ä¸Šä¸‹å±äºä¸€ä¸ªæ•ˆæœ

conf = SparkConf()
conf.setMaster("local[*]")
conf..setAppName("test_spark_app")


pyspark-map æ–¹æ³•

from pyspark import SparkConf, SparkContext
import os
os.environ['PYSPARK_PYTHON'] = "D:/programming/pycharm/python/python.exe"    # è¿™ä¸€æ­¥å¸®åŠ©pysparkæ‰¾åˆ°pythonè§£é‡Šå™¨çš„ä½ç½®ï¼Œenviron è¡¨ç¤ºenvironmentç¯å¢ƒå˜é‡

å®Œæ•´mapæ–¹æ³•ç¤ºä¾‹:

from pyspark import SparkConf, SparkContext
import os
os.environ['PYSPARK_PYTHON'] = "D:/programming/pycharm/python/python.exe"
# åˆ›å»ºSparkConfç±»å¯¹è±¡
# setMasterè®¾ç½®è¿è¡Œæ¨¡å¼ï¼ŒsetAppNameè®¾ç½®äººç‰©åç§°
conf = SparkConf().setMaster("local[*]").setAppName("test_spark_app")
# åŸºäºSparkConfç±»å¯¹è±¡åˆ›å»ºSparkContextå¯¹è±¡

sc = SparkContext(conf = conf)

# æ‰“å°pysparkè¿è¡Œç‰ˆæœ¬

print(sc.version)

# åœæ­¢sparkcontextå¯¹è±¡çš„è¿è¡Œï¼ˆåœæ­¢pysparkç¨‹åºï¼‰
# sc.stop()

# å‡†å¤‡RDD
rdd = sc.parallelize([1,2,3,4,5])
# é€šè¿‡mapæ–¹æ³•å°†æ‰€æœ‰æ•°æ®ä¹˜ä»¥10
def func(data):
    return data * 10
rdd2 = rdd.map(func)   # ä¹Ÿå¯ä»¥ç›´æ¥ï¼ˆlambdaï¼šx:X*10ï¼‰ ç„¶åå°†å‰é¢çš„defæ³¨é‡Šæ‰

print(rdd2.collect())

ç»“æœå¾—åˆ° 10-50
 map æ–¹æ³•å°±æ˜¯å°† sc.parallelize[1-5]ä¸­çš„1-5ä¼ é€’ç»™ rdd2 = rdd.map(func),å…·ä½“funcè‡ªå·±å®šä¹‰  # å¯¹rddå†…çš„å…ƒç´ è¿›è¡Œé€ä¸ªå¤„ç†äº§ç”Ÿæ–°çš„rdd
 
 é“¾å¼å‡½æ•°ï¼š
 rdd.map().map().map()
 
 flatmapå’Œmapéå¸¸ç›¸ä¼¼ï¼Œä½†å¤šäº†ä¸ªæ¥è§¦åµŒå¥—çš„åŠŸèƒ½ [[]123],[123],[123]] å˜ä¸º[123,123,123]
 
 
 ä¾‹å¦‚ï¼š
 rdd = sc.parallelized(["itheima,itcast,666","itheima1,itheima2,itheima3","itheima4,itheima5,itheima6 "])
 rdd2 = rdd.map(lambda x:x.split(" "))    mapä¼šæŠ¥é”™ï¼Œflatmapä¸ä¼š
 
 printåå…¨éƒ¨æ‹†å‡ºæ¥ï¼Œ"itheima","itcast","666"
 
 
 KVå‹RDDï¼Œ æŒ‡äºŒå…ƒå…ƒç»„   KV - Key Value 
 å¯¹åº” [('a',1),('b',2),('c',3)]
 
 ä¾‹å­ï¼š
 # å‡†å¤‡rdd

rdd3 = sc.parallelize([('ç”·',99),('ç”·',88),('å¥³',99),('å¥³',66)])

# æ±‚ç”·ç”Ÿå¥³ç”Ÿä¸¤ç»„çš„æˆç»©ä¹‹å’Œ
rdd4 = rdd3.reduceByKey(lambda a,b: a + b)
print(rdd4.collect())

å¾—åˆ°
[('ç”·', 187), ('å¥³', 165)]

P145 æ¡ˆä¾‹å†çœ‹

rdd.map(lambda word:(word,1))  å¯ä»¥å°†'it' å˜ä¸º ï¼ˆ'it',1ï¼‰


filter æ–¹æ³•å– trueï¼Œèˆå¼ƒfalse
ä¾‹å­ï¼š
rdd = sc.parallelize([1,2,3,4,5])
rdd.filter(lambda x:True if(x % 2 == 1) else False)
å¾—åˆ° [2,4]

distinct æ–¹æ³•å»é‡
rdd.distinct() æ— éœ€ä¼ å‚
ç›´æ¥print(rdd.distinct().collect())å³å¯

rdd.saveAsTextFile("D:/output1") #  åœ¨é…ç½®å®Œhadoopåï¼Œå³å¯å†™å…¥æ–‡æ¡£
os.environ['HADOOP_HOME'] = 'D:\programming\pycharm\èµ„æ–™(1)\ç¬¬15ç« èµ„æ–™\èµ„æ–™\hadoop-3.0.0.tar\hadoop-3.0.0\hadoop-3.0.0'

å­˜å‚¨åçš„æ–‡ä»¶æ ¹æ®ç”µè„‘çš„æ ¸å¿ƒæ•°å¯èƒ½ä¼šåˆ†æˆ16ä¸ªåŒºï¼Œå¯ç”¨ä»¥ä¸‹æ–¹æ³•å˜ä¸º1ä¸ªåŒº
# æ–¹æ³•1: SparkConfå¯¹è±¡è®¾ç½®å±æ€§å…¨å±€å¹¶è¡Œåº¦ä¸º1
conf = SparkConf().setMaster('local[*]').setAppName("test_spark")
conf.set('spark.default.parallelism","1")
sc = SparkContext(conf=conf)

# æ–¹æ³•2ï¼Œåˆ›å»ºRDDçš„æ—¶å€™è®¾ç½®ï¼ˆparallelizeæ–¹æ³•ä¼ å…¥numSliceså‚æ•°ä¸º1ï¼‰
rdd1 = sc.parallelize([1,2,3,4,5], numSlices = 1))
rdd1 = sc.parallelize([1,2,3,4,5],1)


ç»¼åˆæ¡ˆä¾‹:
# æ‰“å°è¾“å‡ºï¼šçƒ­é—¨æœç´¢æ—¶é—´æ®µTop3
# æ‰“å°è¾“å‡ºï¼šçƒ­é—¨æœç´¢è¯Top3
# æ‰“å°è¾“å‡ºï¼šç»Ÿè®¡é»‘é©¬ç¨‹åºå‘˜å…³é”®å­—åœ¨é‚£ä¸ªæ—¶é—´æ®µè¢«æœç´¢æœ€å¤š
# å°†æ•°æ®è½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œå†™å‡ºä¸ºæ–‡ä»¶

import os
from pyspark import *
os.environ['PYSPARK_PYTHON'] = 'D:/programming/pycharm/python/python.exe'
os.environ['HADOOP_HOME'] = 'D:/programming/pycharm/èµ„æ–™(1)/ç¬¬15ç« èµ„æ–™/èµ„æ–™/hadoop-3.0.0.tar/hadoop-3.0.0/hadoop-3.0.0'
conf = SparkConf().setMaster("local[*]").setAppName("test_spark")

# åˆ†æˆä¸€ä¸ªåŒº
conf.set("spark.default.parallelism","1")

sc = SparkContext(conf=conf)

# è¯»å–æ–‡ä»¶è½¬æ¢æˆRDD
file_rdd = sc.textFile("D:/programming/pycharm/èµ„æ–™(1)/ç¬¬15ç« èµ„æ–™/èµ„æ–™/search_log.txt")
# TODO éœ€æ±‚1ï¼šçƒ­é—¨æœç´¢æ—¶é—´æ®µTop3ï¼ˆå°æ—¶ç²¾åº¦ï¼‰
# 1.1 å»é™¤å…¨éƒ¨çš„æ—¶é—´å¹¶è½¬æ¢ä¸ºå°æ—¶
# 1.2 è½¬æ¢ä¸ºï¼ˆå°æ—¶ï¼Œ1ï¼‰çš„äºŒå…ƒå…ƒç»„
# 1.3 Keyåˆ†ç»„èšåˆValue
# 1.4 æ’åºï¼ˆé™åºï¼‰
# 1.5 å–å‰ä¸‰
result1 = file_rdd.map(lambda x: x.split("\t")).\
    map(lambda x: x[0][:2]).\
    map(lambda x: (x, 1)).\
    reduceByKey(lambda a, b: a+b).\
    sortBy(lambda x: x[1], ascending=False, numPartitions=1).\
    take(3)
# è¿™ä¸‰ä¸ªmapå¯ä»¥å†™ä¸ºï¼š (lambda x: x.split("\t")[0][:2]),1)
print("éœ€æ±‚1çš„ç»“æœä¸ºï¼š", result1)

# TODO éœ€æ±‚2ï¼š çƒ­é—¨æœç´¢è¯Top3
# 2.1 å»é™¤å…¨éƒ¨çš„æœç´¢è¯
# 2.2ï¼ˆè¯ï¼Œ1ï¼‰äºŒå…ƒå…ƒç»„
# 2.3 åˆ†ç»„èšåˆ
# 2.4 æ’åº
# 2.5 Top3
result2 = file_rdd.map(lambda  x: (x.split("\t")[2],1)).\
    reduceByKey(lambda a,b: a + b).\
    sortBy(lambda x: x[1],ascending=False,numPartitions=1).\
    take(3)

print("éœ€æ±‚2çš„ç»“æœä¸ºï¼š", result2)

# TODO éœ€æ±‚3ï¼šç»Ÿè®¡é»‘é©¬ç¨‹åºå‘˜å…³é”®å­—åœ¨ä»€ä¹ˆæ—¶æ®µè¢«æœç´¢æœ€å¤š
# 3.1 è¿‡æ»¤å†…å®¹ï¼Œåªä¿ç•™é»‘é©¬ç¨‹åºå‘˜å…³é”®è¯
# 3.2 è½¬æ¢ä¸ºï¼ˆå°æ—¶ï¼Œ1ï¼‰çš„äºŒå…ƒå…ƒç»„
# 3.3 Keyåˆ†ç»„èšåˆValue
# 3.4 æ’åºï¼ˆé™åºï¼‰
# 3.5 å–å‰1
result3 = file_rdd.map(lambda x: x.split("\t")).\
    filter(lambda x: x[2] =='é»‘é©¬ç¨‹åºå‘˜').\
    map(lambda x:(x[0][:2],1)).\
    reduceByKey(lambda a,b: a + b).\
    sortBy(lambda x:x[1],ascending=False,numPartitions=1).\
    take(1)
print("éœ€æ±‚3ç»“æœä¸ºï¼š",result3)


# TODO éœ€æ±‚4ï¼š å°†æ•°æ®è½¬æ¢ä¸ºJSOMæ ¼å¼ï¼Œå†™å‡ºåˆ°æ–‡ä»¶ä¸­
# 4.1 è½¬æ¢ä¸ºJSONæ ¼å¼çš„RDD
# 4.2 å†™å‡ºä¸ºæ–‡ä»¶

file_rdd.map(lambda x:x.split("\t")).\
    map(lambda x:{"time": x[0],"user_id":x[1],"key_word":x[2],"rank1":x[3],"rank2":x[4],"url":x[5]}).\
    saveAsTextFile("D/output_json")
    
    
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
text="only YOU Loving yoU,ä½ æ˜¯æˆ‘çš„å”¯ä¸€ï¼ŒjUst YoU,æˆ‘èƒ½ç­‰ä½ ä¸‹è¯¾å—ï¼Ÿèƒ½ä¸èƒ½ä¸€èµ·å»é€›è¡—ï¼Ÿè¾¾èƒ½å°ç‹å­"
 
#å¤§å°å†™è½¬æ¢
text.upper() #å¤§å†™
text.lower() #å°å†™
text.title()#é¦–å­—æ¯å¤§å†™
text.capitalize()#ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™
text.swapcase()#å¤§å°å†™å¯¹è°ƒ
 
#å­—ç¬¦ä¸²çš„æœç´¢
text.count("o")#æœç´¢å¹¶ç»Ÿè®¡"o"å‡ºç°çš„æ¬¡æ•°
text.count("o",28)#æœç´¢å¹¶ç»Ÿè®¡ï¼Œä»ç¬¬28ä½å¼€å§‹ï¼Œ"o"å‡ºç°çš„æ¬¡æ•°
text.startswith("only")#textä»¥"only"å¼€é€š
text.startswith("only",2,10)#textçš„ç¬¬3-9ä¸ªå­—ç¬¦ä»¥"only"å¼€é€š
text.find("you")#æŸ¥æ‰¾you
text.replace("u","V",2)
 
#å¡«å……æˆ–è€…å‰”é™¤æŸäº›ä¿¡æ¯
 
"1999".rjust(10,"$")#å‰ä¸€ä¸ªå­—ç¬¦ä»£è¡¨å¡«å……åå­—ç¬¦ä¸²çš„æ€»é•¿åº¦
"1999".rjust(5,"$")
"1999".zfill(9)#ç”¨0å¡«å……ï¼Œç±»ä¼¼ "1999".rjust(9,"0")
"1999".rjust(9,"0")
"1999".center(50) #åœ¨å·¦å³ä¸¤è¾¹éƒ½å‡è®¾ç©ºæ ¼
"   1999   ".strip()#å»é‡å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼
"1999".strip("9")#å»é‡å·¦å³ä¸¤è¾¹çš„"9"
" 1999 ".strip("9")#å»é‡å·¦å³ä¸¤è¾¹çš„"9",ä¸¤è¾¹æ˜¯ç©ºæ ¼æ²¡æœ‰9
 
#å­—ç¬¦ä¸²çš„åˆ†å‰²ä¸åˆå¹¶
 
text.replace("èƒ½",",")
text1=text.replace("èƒ½","\n")
print(text1)
print(text.replace("èƒ½","\n"))
text.split("èƒ½")#ä»¥"èƒ½"ä¸ºç»“ç‚¹æŠŠstræ‹†æˆä¸€ä¸ªå­—åˆ—è¡¨
text.partition("èƒ½") #ä»¥"èƒ½"ä¸ºç»“ç‚¹æŠŠstræ‹†æˆä¸€ä¸ªå­—å…ƒç»„
text.rpartition("èƒ½")
text1.splitlines()#è¯†åˆ«ç©ºè¡Œè¿›è¡Œåˆ†å‰²
text1.split("\n")#åŒä¸Šåˆ†å‰²ç©ºè¡Œ
"@".join(text)#æŠŠ@æ’å…¥åˆ°strçš„æ¯ä¸€ä¸ªå­—ç¬¦ä¸­
"12345".join("  ")#é‡å¤å¹¶æ‹¼æ¥


